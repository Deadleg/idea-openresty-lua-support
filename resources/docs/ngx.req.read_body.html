<p><strong>syntax:</strong> <em>ngx.req.read_body()</em></p>
<p><strong>context:</strong> <em>rewrite_by_lua&#42;, access_by_lua&#42;, content_by_lua&#42;</em></p>
<p>Reads the client request body synchronously without blocking the Nginx event loop.</p>
<p>```lua</p>
<p>ngx.req.read_body()  local args = ngx.req.get_post_args() ```</p>
<p>If the request body is already read previously by turning on <a href="#lua_need_request_body">lua_need_request_body</a> or by using other modules, then this function does not run and returns immediately.</p>
<p>If the request body has already been explicitly discarded, either by the <a href="#ngxreqdiscard_body">ngx.req.discard_body</a> function or other modules, this function does not run and returns immediately.</p>
<p>In case of errors, such as connection errors while reading the data, this method will throw out a Lua exception <em>or</em> terminate the current request with a 500 status code immediately.</p>
<p>The request body data read using this function can be retrieved later via <a href="#ngxreqget_body_data">ngx.req.get_body_data</a> or, alternatively, the temporary file name for the body data cached to disk using <a href="#ngxreqget_body_file">ngx.req.get_body_file</a>. This depends on</p>
<ol>
  <li>whether the current request body is already larger than the <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#client_body_buffer_size">client_body_buffer_size</a>,</li>
  <li>and whether <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#client_body_in_file_only">client_body_in_file_only</a> has been switched on.</li>
</ol>
<p>In cases where current request may have a request body and the request body data is not required, The <a href="#ngxreqdiscard_body">ngx.req.discard_body</a> function must be used to explicitly discard the request body to avoid breaking things under HTTP 1.1 keepalive or HTTP 1.1 pipelining.</p>
<p>This function was first introduced in the <code>v0.3.1rc17</code> release.</p>