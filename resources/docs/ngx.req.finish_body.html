<p><strong>syntax:</strong> <em>ngx.req.finish_body()</em></p><p><strong>context:</strong> <em>set_by_lua&#42;, rewrite_by_lua&#42;, access_by_lua&#42;, content_by_lua&#42;</em></p><p>Completes the construction process of the new request body created by the <a href="#ngxreqinit_body">ngx.req.init_body</a> and <a href="#ngxreqappend_body">ngx.req.append_body</a> calls.</p><p>This function can be used with <a href="#ngxreqinit_body">ngx.req.init_body</a>, <a href="#ngxreqappend_body">ngx.req.append_body</a>, and <a href="#ngxreqsocket">ngx.req.socket</a> to implement efficient input filters in pure Lua (in the context of <a href="#rewrite_by_lua">rewrite_by_lua*</a> or <a href="#access_by_lua">access_by_lua*</a>), which can be used with other Nginx content handler or upstream modules like <a href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html">ngx_http_proxy_module</a> and <a href="http://nginx.org/en/docs/http/ngx_http_fastcgi_module.html">ngx_http_fastcgi_module</a>.</p><p>This function was first introduced in the <code>v0.5.11</code> release.</p><p>See also <a href="#ngxreqinit_body">ngx.req.init_body</a>.</p>