<p><strong>syntax:</strong> <em>success, err, forcible = ngx.shared.DICT:add(key, value, exptime?, flags?)</em></p><p><strong>context:</strong> <em>init_by_lua&#42;, set_by_lua&#42;, rewrite_by_lua&#42;, access_by_lua&#42;, content_by_lua&#42;, header_filter_by_lua&#42;, body_filter_by_lua&#42;, log_by_lua&#42;, ngx.timer.&#42;, balancer_by_lua&#42;, ssl_certificate_by_lua&#42;, ssl_session_fetch_by_lua&#42;, ssl_session_store_by_lua&#42;</em></p><p>Just like the <a href="#ngxshareddictset">set</a> method, but only stores the key-value pair into the dictionary <a href="#ngxshareddict">ngx.shared.DICT</a> if the key does <em>not</em> exist.</p><p>If the <code>key</code> argument already exists in the dictionary (and not expired for sure), the <code>success</code> return value will be <code>false</code> and the <code>err</code> return value will be <code>&quot;exists&quot;</code>.</p><p>This feature was first introduced in the <code>v0.3.1rc22</code> release.</p><p>See also <a href="#ngxshareddict">ngx.shared.DICT</a>.</p>