<p><strong>syntax:</strong> <em>ngx.req.append_body(data_chunk)</em></p>
<p><strong>context:</strong> <em>set_by_lua&#42;, rewrite_by_lua&#42;, access_by_lua&#42;, content_by_lua&#42;</em></p>
<p>Append new data chunk specified by the <code>data_chunk</code> argument onto the existing request body created by the <a href="#ngxreqinit_body">ngx.req.init_body</a> call.</p>
<p>When the data can no longer be hold in the memory buffer for the request body, then the data will be flushed onto a temporary file just like the standard request body reader in the Nginx core.</p>
<p>It is important to always call the <a href="#ngxreqfinish_body">ngx.req.finish_body</a> after all the data has been appended onto the current request body.</p>
<p>This function can be used with <a href="#ngxreqinit_body">ngx.req.init_body</a>, <a href="#ngxreqfinish_body">ngx.req.finish_body</a>, and <a href="#ngxreqsocket">ngx.req.socket</a> to implement efficient input filters in pure Lua (in the context of <a href="#rewrite_by_lua">rewrite_by_lua*</a> or <a href="#access_by_lua">access_by_lua*</a>), which can be used with other Nginx content handler or upstream modules like <a href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html">ngx_http_proxy_module</a> and <a href="http://nginx.org/en/docs/http/ngx_http_fastcgi_module.html">ngx_http_fastcgi_module</a>.</p>
<p>This function was first introduced in the <code>v0.5.11</code> release.</p>
<p>See also <a href="#ngxreqinit_body">ngx.req.init_body</a>.</p>