<p><strong>syntax:</strong> <em>local semaphore = require "ngx.semaphore"</em></p>
<p>This is a Lua module that implements a classic-style semaphore API for efficient synchronizations among different "light threads". Sharing the same semaphore among different "light threads" created in different (request) contexts are also supported as long as the "light threads" reside in the same Nginx worker process and the <a href="#lua_code_cache">lua_code_cache</a> directive is turned on (which is the default).</p>
<p>This Lua module does not ship with this ngx_lua module itself rather it is shipped with the <a href="https://github.com/openresty/lua-resty-core">lua-resty-core</a> library.</p>
<p>Please refer to the <a href="https://github.com/openresty/lua-resty-core/blob/master/lib/ngx/semaphore.html">documentation</a> for this <code>ngx.semaphore</code> Lua module in <a href="https://github.com/openresty/lua-resty-core">lua-resty-core</a> for more details.</p>
<p>This feature requires at least ngx_lua <code>v0.10.0</code>.</p>